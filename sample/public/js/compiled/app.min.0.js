var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(b){for(var a=0;a<b.length;a++){var c=b[a].string,d=b[a].prop;this.versionSearchString=b[a].versionSearch||b[a].identity;if(c){if(-1!=c.indexOf(b[a].subString))return b[a].identity}else if(d)return b[a].identity}},
searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(-1!=a)return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",
identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",
identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();
(function(b){b.fn.pathchange=function(a){return a?this.bind("pathchange",a):this.trigger("pathchange")};var c=b.pathchange={options:{useHistory:!0,useHashchange:!0,pollingInterval:250,interceptLinks:!0,disableHashLinks:!0},init:function(a){var d;b.extend(c.options,a);c.options.useHistory&&c.detectHistorySupport()&&b(window).bind("popstate",function(a){b(window).trigger("pathchange")});c.options.useHashchange&&(b(window).bind("hashchange",function(a){b(window).trigger("pathchange")}),c.detectHashchangeSupport()||
(d=window.location.hash,setInterval(function(){d!==window.location.hash&&(b(window).trigger("hashchange"),d=window.location.hash)},c.options.pollingInterval)));c.options.disableHashLinks&&b("body").delegate("a[href=#]","click",function(a){a.preventDefault()})},changeTo:function(a){c.options.useHistory&&c.detectHistorySupport()?(window.history.pushState(null,null,a),b(window).trigger("pathchange")):(0>a.indexOf("#")&&(a+="#"),window.location.href=window.location.protocol+"//"+window.location.hostname+
(window.location.port?":"+window.location.port:"")+a)},detectHistorySupport:function(){return!(!window.history||!history.pushState)},detectHashchangeSupport:function(){var a="onhashchange"in window;!a&&window.setAttribute&&(window.setAttribute("onhashchange","return;"),a="function"===typeof window.onhashchange);return a}}})(jQuery);
(function(d){function g(a,b){a=d(a);var c=a.clone().empty(),e;a.contents().each(function(){var a=b-c.text().length;0!=a&&(e=3==this.nodeType?h(this,a):g(this,a))&&c.append(e)});return c}function h(a,b){var c=k(a.data);l&&(c=c.replace(/^ /,""));l=!!c.match(/ $/);c=c.slice(0,b);return c=d("<div/>").text(c).html()}function k(a){return a.replace(/\s+/g," ")}function m(a){var b=d(a),c=b.children(":last");return c?(a=c.css("display"))&&"inline"!=a?m(c):b:a}function n(a){var b=d(a).children(":last");return b&&
b.is("p")?b:a}var l=!0;d.fn.truncate=function(a){var b=d.extend({},d.fn.truncate.defaults,a);d(this).each(function(){if(!(d.trim(k(d(this).text())).length<=b.max_length)){var a=b.max_length-b.more.length-3,e=3==this.nodeType?h(this,a):g(this,a),f=d(this).hide();e.insertAfter(f);m(e).append('... <a href="#" class="toggle-desc">'+b.more+"</a>");n(f).append(' <a href="#" class="toggle-desc">'+b.less+"</a>");e.find("a:last").click(function(){e.hide();f.show();return!1});f.find("a:last").click(function(){e.show();
f.hide();return!1})}})};d.fn.truncate.defaults={max_length:81,more:"&#x25BC;",less:"&#x25B2;"}})(jQuery);
